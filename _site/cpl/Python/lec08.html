<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=8887de9a7825562640f49c1a19a6efd4c5612899">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Python - advanced cont. | healym.github.io</title>
<meta property="og:title" content="Python - advanced cont." />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Notes and Other Interesting Thoughts" />
<meta property="og:description" content="Notes and Other Interesting Thoughts" />
<meta property="og:site_name" content="healym.github.io" />
<script type="application/ld+json">
{"name":null,"description":"Notes and Other Interesting Thoughts","author":null,"@type":"WebPage","url":"/cpl/Python/lec08.html","publisher":null,"image":null,"headline":"Python - advanced cont.","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Python - advanced cont.</h1>
          <h2>Notes and Other Interesting Thoughts</h2>
        </header>
        <section id="downloads" class="clearfix">
          
	  
          <a href="http://github.com/healym/healym.github.io" id="view-on-github" class="button"><span>View on GitHub</span></a>
	  
        </section>
        <hr>
        <section id="main_content">
          <h1 id="python---advanced-cont">Python - <em>advanced</em> cont.</h1>

<h2 id="higher-order-functions">Higher Order Functions</h2>

<ul>
  <li>functions can:
    <ul>
      <li>accept functions as arguments</li>
      <li>return functions as values</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>def is_even(x):
    return x % 2 == 0


def take_while(check,it): #accepts function check()
    '''yields items from it until check() returns False for some item'''
    for i in it:
        if check(i):
            yield i
        else:
            break


vals = [0, 2, 4, 6, 7, 8, 10]
list(take_while(is_even,vals)) #[0, 2, 4, 6]
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>def new_print(prefix):
    def inner(*args, **kwargs):
        '''
        assigns prefix passed to beginning of print,
        takes *args and **kwargs
        '''
        print(prefix,*args,**kwargs)
    return inner #returns function inner()


debug = new_print("debug: ")
#debug is new function that has "debug: " as prefix
warning = new_print("warning: ")

debug("reached here") #debug: reached here

warning("did the thing") #warning: did the thing
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>def f():
    i=0
    def g():
        print(i)
        return i
    return g


h=f()

h() #prints i, returns i


def f():
    i = 0
    def g():
        i += 1
        return i
    return g


h=f()
h() #Unbound local variable
</code></pre>
</div>

<h2 id="lambda-functions">Lambda functions</h2>

<ul>
  <li>
    <p>Lamdas are anonymous functions</p>
  </li>
  <li>
    <p>Lambdas take zero of more arguments and return a values</p>
  </li>
  <li>
    <p>That’s it</p>
  </li>
  <li>
    <p>Syntax: <code class="highlighter-rouge">lambda [arglist]: expression</code></p>

    <ul>
      <li><code class="highlighter-rouge">lambda x: x + 1</code></li>
      <li><code class="highlighter-rouge">lambda x,y: x + y</code></li>
    </ul>
  </li>
  <li>
    <p>Don’t abuse them, only really used when you need a one-time function</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>dogs = [Dog("frank",150), Dog("bob",110),..] #not gonna write a whole list
# assume no __lt__
dogs2 = sorted(dogs) #TypeError

dogs3 = sorted(dogs,key=lambda x: x.weight) #extremely common usage

</code></pre>
</div>

<h2 id="map-filter-and-reduce"><code class="highlighter-rouge">map</code>, <code class="highlighter-rouge">filter</code>, and <code class="highlighter-rouge">reduce</code></h2>

<ul>
  <li>
    <p>Holy trinity of math</p>
  </li>
  <li>All are higher order functions
    <ul>
      <li>work a lot like generator expressions</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">map(func, iterable)</code>
    <ul>
      <li>returns a new iterable that yields func -&gt; x for each x in iterable</li>
      <li><code class="highlighter-rouge">map(str,lst)</code> and <code class="highlighter-rouge">(str(x) for x in lst)</code> are about the same</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">filter(func, iterable)</code>
    <ul>
      <li>returns a new iterable that yields x
  for each x in iterable if func(x) is truthy</li>
      <li><code class="highlighter-rouge">filter(is_even,lst)</code> and <code class="highlighter-rouge">(x for x in lst if is_even(x))</code>
  are similar</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">reduce(func, iterable[,initial]) #import functools</code>
    <ul>
      <li>applies a function of two arguments cumulatively to the items
  of iterable from left to right so as to reduce the iterable into a single
  value
        <ul>
          <li><code class="highlighter-rouge">vals = [0, 2, 4, 6]</code>
  ```</li>
        </ul>

        <p>functools.reduce(lambda x,y: x + y, vals) #12
  ```</p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="partial-function-application">Partial Function Application</h2>

<p>Partially applies parameters to function, creates new function
that is already partly applied, so takes fewer parameters.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import functools

def add(x,y):
    return x + y

add3 = functools.partial(add,3) #partially applies 3 to add

add3(7) #10
</code></pre>
</div>

<h2 id="function-decoration">Function Decoration</h2>

<ul>
  <li>
    <p>Wraps a function to modify its behavior</p>
  </li>
  <li>
    <p>Super common in Python Standard Library</p>
  </li>
  <li>
    <p>Don’t abuse these</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>import time

def time_this(func):
    def wrapper(*args,**kwargs):
        start = time.time()
        retval = func(*args,**kwargs)
        stop = time.time()
        print("{} took {:0.3f}sec".format(func.__name__,stop - start))
        return retval
    return wrapper
</code></pre>
</div>

<h2 id="extras">Extras</h2>

<h4 id="ternery">Ternery</h4>
<ul>
  <li>works just like in c++</li>
  <li>syntax:
 true <code class="highlighter-rouge">if</code> condition <code class="highlighter-rouge">else</code> false</li>
</ul>

        </section>

        <footer>
        
          healym.github.io is maintained by <a href="http://github.com/healym">healym</a><br>
        
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>

    
  </body>
</html>
